// declarar a arrayPostagens
const arrayPostagens = {
  "2": [
    {
      tituloMateria: "Programação assíncrona em JavaScript",
      textoMateria: "Embora o JavaScript seja síncrono, você pode realizar programação assíncrona com ele. Neste artigo, você aprenderá sobre programação assíncrona em JavaScript e como usá-la ...",
      imagem: "https://www.freecodecamp.org/news/content/images/size/w2000/2024/02/Await-2.png",
      textoOrigem: "FreeCodeCamp - 02/02/2024",
      link: "https://www.freecodecamp.org/news/asynchronous-programming-in-javascript-examples/",
      diaPostagem: "2"
    },
    {
      tituloMateria: "Distrito lança GenAI Lab e apresenta as primeiras startups selecionadas para a iniciativa",
      textoMateria: "O Distrito realizou nesta quarta-feira, 31, o evento de lançamento do GenAI Lab, programa exclusivo para fomento de negócios baseados em inteligência artificial generativa. Na ocasião, foram apresentadas as 17 startups selecionadas ...",
      imagem: "https://tiinside.com.br/wp-content/uploads/2023/08/IA-Generativa-Precisamos-falar-sobre-seguranca-1024x621.jpg",
      textoOrigem: "Tiinside - 01/02/2024",
      link: "https://tiinside.com.br/01/02/2024/distrito-lanca-genai-lab-e-apresenta-as-primeiras-startups-selecionadas-para-a-iniciativa/",
      diaPostagem: "1"
    },
  ],
    "1": [
      {
        tituloMateria: "Especialistas expressam preocupações sobre os geradores de imagens de IA que podem violar as leis de direitos autorais",
        textoMateria: "O uso de geradores de imagens de IA levantou preocupações sobre possíveis violações de direitos autorais, informou o New York Times. Diferentes usuários testaram o gerador de imagens AI, Midjourney, para produzir uma imagem que acabou sendo idêntica a ...",
        imagem: "https://diplo-media.s3.eu-central-1.amazonaws.com/2024/01/MIDJOURNEY-1024x573.jpg",
        textoOrigem: "Dig watch - 31/01/2024",
        link: "https://dig.watch/updates/experts-express-concerns-over-ai-image-generators-potentially-violating-copyright-laws",
        diaPostagem: "31"
      },
      {
        tituloMateria: "Finalmente chega a TypeScript 5.4 beta",
        textoMateria: "A atualização mais recente do JavaScript fortemente tipado preserva os refinamentos de tipo nos fechamentos após a última atribuição e introduz um tipo de utilitário NoInfer ...",
        imagem: "https://images.idgesg.net/images/article/2023/03/shutterstock_701379820-100938933-large.jpg?auto=webp&quality=85,70",
        textoOrigem: "Info World - 30/01/2024",
        link: "https://www.infoworld.com/article/3712660/typescript-54-beta-arrives.html",
        diaPostagem: "30"
      },
      {
        tituloMateria: "Por que os executivos de TI precisam considerar o GraphQL",
        textoMateria: "GraphQL oferece aos desenvolvedores uma maneira flexível e unificada de conectar dados e serviços. Seu planejamento de consulta e mecanismo de política o tornam uma opção promissora para adicionar LLMs ao mix ...",
        imagem: "https://images.idgesg.net/images/idge/imported/imageapi/2022/06/24/10/digital_transformation_finger_tap_causes_waves_of_interconnected_digital_ripples_by_gerd_altmann_cc0_via_pixabay_1200x800-100765086-large-100929467-large.jpg?auto=webp&quality=85,70",
        textoOrigem: "Info World - 29/01/2024",
        link: "https://www.infoworld.com/article/3712544/why-it-execs-need-to-consider-graphql.html",
        diaPostagem: "29"
      },
      {
        tituloMateria: "Google adiciona simuladores iOS e Android ao Project IDX",
        textoMateria: "O Google adicionou simuladores iOS e Android diretamente em seu espaço de trabalho de desenvolvedor baseado em nuvem, Project IDX. A gigante das buscas lançou o Projeto IDX há seis meses como uma ferramenta experimental para agilizar o desenvolvimento de aplicativos multiplataforma full-stack ...",
        imagem: "https://www.developer-tech.com/wp-content/uploads/sites/3/2024/01/google-project-idx-android-ios-emulator-cloud-workspace-software-development-coding-programming-2048x1316.jpg",
        textoOrigem: "Developer - 26/01/2024",
        link: "https://www.developer-tech.com/news/2024/jan/26/google-adds-ios-and-android-simulators-project-idx/",
        diaPostagem: "26"
      },
      {
        tituloMateria: "Aprenda fazendo: como os LLMs devem remodelar a educação",
        textoMateria: "O caminho para a aprendizagem autônoma prática é por meio de grandes modelos de linguagem (LLMs). Jon Udell mostra como o setor EdTech pode usar IA ...",
        imagem: "https://cdn.thenewstack.io/media/2024/01/4019b8b3-kenny-eliason-zfso6bnzjtw-unsplash-1024x637.jpg",
        textoOrigem: "The News Stack - 22/01/2024",
        link: "https://thenewstack.io/learn-by-doing-how-llms-should-reshape-education/",
        diaPostagem: "22"
      },
      {
        tituloMateria: "Digital Ocean quer abrir as comportas para o uso de IA por pequenas empresas com acesso ao Nvidia H100",
        textoMateria: "A Digital Ocean construiu seu negócio em nuvem com foco em desenvolvedores que atendem pequenas e médias empresas e agora está expandindo esse negócio com novo suporte para o acelerador Nvidia H100 GPU AI líder do setor. A Nvidia H100 estará disponível na plataforma Paperspace, que foi adquirida ...",
        imagem: "https://tpc.googlesyndication.com/simgad/3250486349991005855?",
        textoOrigem: "Venture Beat - 18/01/2024",
        link: "https://venturebeat.com/ai/digitalocean-wants-to-open-the-floodgates-to-ai-for-smaller-enterprises-with-nvidia-h100-access/",
        diaPostagem: "18"
      },
      {
        tituloMateria: "Empresas de tecnologia iniciam 2024 com demissões totalizando 7,5 mil funcionários",
        textoMateria: "14 dias após o início do Ano Novo, 46 empresas de tecnologia já demitiram cerca de 7.500 funcionários, de acordo com o rastreador de demissões do website Layoffs.fyi ...",
        imagem: "https://media.dev.to/cdn-cgi/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fkppkmjlgbm9u8lfstm8o.jpg",
        textoOrigem: "DEV - 17/01/2024",
        link: "https://dev.to/klimd1389/tech-companies-start-2024-with-layoffs-totaling-7500-employees-1nh3",
        diaPostagem: "17"
      },
      {
        tituloMateria: "Quer saber a dura verdade sobre IA? Ela poderá produzir softwares bem melhor do que nós fazemos",
        textoMateria: "Como você sem dúvida notou, estamos no meio de um frenesi em torno de algo chamado IA generativa. Legiões de pessoas estão a surfar numa onda de exuberância irracional sobre o seu potencial transformador ...",
        imagem: "https://i.guim.co.uk/img/media/55df34d39748c4db81e50e84783dada6a442f356/0_140_4200_2520/master/4200.jpg?width=620&dpr=1&s=none",
        textoOrigem: "The Guardian - 13/01/2024",
        link: "https://www.theguardian.com/commentisfree/2024/jan/13/truth-about-ai-might-produce-better-software",
        diaPostagem: "13"
      },
      {
        tituloMateria: "Novo estudo identifica os pontos fracos da IA",
        textoMateria: "ChatGPT e outras soluções baseadas em Machine Learning estão surgindo. Mas mesmo os algoritmos mais bem-sucedidos têm limitações. Como os primeiros pesquisadores do mundo da Universidade de Copenhague provaram matematicamente que  ...",
        imagem: "https://www.sciencedaily.com/images/sd-logo.png",
        textoOrigem: "Science News - 11/01/2024",
        link: "https://www.sciencedaily.com/releases/2024/01/240111113057.htm",
        diaPostagem: "11"
      },
      {
        tituloMateria: "OpenAI quer que todos construam sua própria versão do ChatGPT",
        textoMateria: "Na primeira conferência de desenvolvedores da OpenAI, a empresa por trás do ChatGPT anunciou novas ferramentas que permitem a qualquer pessoa criar um  ...",
        imagem: "https://media.wired.com/photos/65491003152211f9f631d3fb/master/w_1600,c_limit/OpenAI-Updates-Chatbots-Business-GettyImages-1403128248.jpg",
        textoOrigem: "Wired - 06/01/2024",
        link: "https://www.wired.com/story/openai-wants-everyone-to-build-their-own-version-of-chatgpt/",
        diaPostagem: "6"
      },
      {
        tituloMateria: "O pioneiro da linguagem de programação Niklaus Wirth morre aos 89 anos",
        textoMateria: "Wirth recebeu o Prêmio Turing em 1984 por suas contribuições à ciência da computação, com sua linguagem de codificação Pascal sendo descrita como base para sistemas futuros. Criador de múltiplas linguagens de codificação e pioneiro em design de software ...",
        imagem: "https://www.siliconrepublic.com/wp-content/uploads/2024/01/49393586688_0c0809e6bb_o-718x523.jpg",
        textoOrigem: "SiliconRepublic - 05/01/2024",
        link: "https://www.siliconrepublic.com/innovation/niklaus-wirth-dies-aged-89-pascal-coding-computer-science",
        diaPostagem: "5"
      },
      {
        tituloMateria: "Quão rápida é a sua linguagem de programação? Novo concurso e benchmarks geram debate",
        textoMateria: "Os programadores Java estão sendo pressionados a publicar a solução mais rápida possível para um “desafio de um bilhão de linhas”, gerando soluções  ...",
        imagem: "https://devclass.com/wp-content/uploads/2024/01/speed_shutterstock-768x512.jpg",
        textoOrigem: "DEVCLASS - 04/01/2024",
        link: "https://www.devclass.com/2024/01/04/how-fast-is-your-programming-language-new-contest-and-benchmarks-spark-debate/",
        diaPostagem: "4"
      },
      {
        tituloMateria: "Código aberto falhou completamente em atender pessoas comuns - diz cofundador do movimento Open Source",
        textoMateria: "Para os familiarizados com o movimento Open Source, Bruce Perens dispensa apresentações. Um dos fundadores da iniciativa junto a Eric Raymond   ...",
        imagem: "https://cdn.tecmasters.com.br/wp-content/uploads/2024/01/shutterstock_2171440301The7Dew.jpg",
        textoOrigem: "TECMASTERS - 03/01/2024",
        link: "https://www.tecmasters.com.br/codigo-aberto-falhou-pessoas-comuns-open-source/",
        diaPostagem: "3"
      },
      {
        tituloMateria: "Conheça as habilidades essenciais para os analistas de ameaça",
        textoMateria: "Conhecimento em diferentes linguagens e ferramentas de programação, aprendizado de máquina e inteligência artificial são algumas das habilidades técnicas  ...",
        imagem: "https://www.csoonline.com/wp-content/uploads/2024/01/insider-threat-shadow-worker-laptop.jpg?resize=1024%2C684&quality=50&strip=all",
        textoOrigem: "CSO - 02/01/2024",
        link: "https://www.csoonline.com/article/1270134/bolster-your-teams-cyber-defense-essential-skills-for-todays-threat-analysts.html",
        diaPostagem: "2"
      },
      {
        tituloMateria: "Conheça quais serão as linguagens de programação com maior produção em 2024",
        textoMateria: "Se com o novo ano você decidiu aumentar sua empregabilidade aprendendo uma nova linguagem de programação ou fazendo uma mudança profissional direta ...",
        imagem: "https://i.blogs.es/2e97c9/james-harrison-vpoexr5wmr4-unsplash/840_560.jpeg",
        textoOrigem: "Gearrice - 01/01/2024",
        link: "https://www.gearrice.com/update/these-will-be-the-programming-languages-with-the-most-output-in-2024-you-can-start-learning-them-for-free/",
        diaPostagem: "1"
      },
    ],
    "12": [
      {
        tituloMateria: "Suprema Corte britânica decide que IA não pode ser “inventora” de patentes",
        textoMateria: "Um cientista da computação dos Estados Unidos foi derrotado nesta quarta-feira em sua tentativa de registrar patentes sobre invenções criadas por seu sistema de inteligência artificial em um caso histórico ...",
        imagem: "https://www.cnnbrasil.com.br/wp-content/uploads/sites/12/2023/12/inteligencia-artificial-pexels.jpg?w=1220&h=674&crop=1",
        textoOrigem: "CNN Brasil - 20/12/2023",
        link: "https://www.cnnbrasil.com.br/tecnologia/ia-nao-pode-ser-inventora-de-patentes-decide-suprema-corte-britanica/",
        diaPostagem: "2023-12-20"
      },
      {
        tituloMateria: "O uso de línguas indianas no desenvolvimento de IAs poderá reduzir o preconceito na tecnologia",
        textoMateria: "O secretário indiano S. Krishnan, do Ministério da Eletrônica e de TI, disse em evento da FICCI que o uso de línguas indianas na programação poderá reduz os preconceitos na próxima geração de tecnologia ...",
        imagem: "https://img.etimg.com/thumb/msid-106099405,width-650,height-488,imgsize-161410,resizemode-75/illustration-shows-ai-artificial-intelligence-letters-and-computer-motherboard.jpg",
        textoOrigem: "EconomicTimes - 18/12/2023",
        link: "https://economictimes.indiatimes.com/tech/technology/use-of-indian-languages-in-ai-will-bring-down-bias-in-technology-meity-secretary/articleshow/106099353.cms",
        diaPostagem: "18"
      },
      {
        tituloMateria: "Introdução ao JSX: HTML que faz JavaScript",
        textoMateria: "JSX fornece uma maneira de definir a estrutura de uma visualização de aplicativo com marcação HTML que interage com o contexto JavaScript do aplicativo. Essa noção simples vai contra a sabedoria convencional sobre separar a visão do comportamento, e é por isso que os desenvolvedores tendem a amá-la ou odiá-la ...",
        imagem: "https://images.idgesg.net/images/idge/imported/imageapi/2023/01/19/04/shutterstock_1369501385-100936471-large.jpg?auto=webp&quality=85,70",
        textoOrigem: "InfoWorld - 13/12/2023",
        link: "https://www.infoworld.com/article/3711600/intro-to-jsx-html-that-does-javascript.html",
        diaPostagem: "13"
      },
      {
        tituloMateria: "Por que TYPE_CHECKING",
        textoMateria: "Dado o potencial erro na hora de colocarmos um código para rodar precisamos inserir condicionais ou, mais especificamente, checadores para teste ...",
        imagem: "https://github.com/veekaybee/veekaybee.github.io/assets/3837836/038f3695-4651-45e6-b47c-47ec25da9690",
        textoOrigem: "VickiBoykis - 11/12/2023",
        link: "https://vickiboykis.com/2023/12/11/why-if-type_checking/",
        diaPostagem: "11"
      },
      {
        tituloMateria: "Quer saber como criar um jogo da forca com Python e PySimpleGUI",
        textoMateria: "Imagina construir um jogo da forca com uma interface gráfica de usuário em Python. Ao longo deste tutorial, você construirá o jogo da forca em Python em uma série de etapas ...",
        imagem: "https://realpython.com/cdn-cgi/image/width=960,format=auto/https://files.realpython.com/media/Build-a-Hangman-Game-With-Python-and-PySimpleGUI_Watermarked.6ad1f5a8158d.jpg",
        textoOrigem: "RealPython - 06/12/2023",
        link: "https://realpython.com/hangman-python-pysimplegui/",
        diaPostagem: "6"
      },
      {
        tituloMateria: "Quer saber como funciona um gerenciador de senhas",
        textoMateria: "Em nosso cotidiano, usamos diversos serviços que precisam de senha, como e-mail, rede social, aplicações usadas no trabalho. São tantas as opções que, depois de um tempo, fica difícil decorar todas as combinações,por isso a importância de recorrer a um gerenciador de senhas ...",
        imagem: "https://tm.ibxk.com.br/2023/11/29/29151319216254.jpeg?ims=1280x480",
        textoOrigem: "Tecmundo - 03/12/2023",
        link: "https://www.tecmundo.com.br/seguranca/274356-funciona-gerenciador-senhas.htm",
        diaPostagem: "3"
      },
      {
        tituloMateria: "Quer saber mais sobreo lançamento da Javet 3.0.2 que irá unir Java e JavaScript",
        textoMateria: "Javet, uma fusão de Java e V8 (JAVa + V + EighT), lançou recentemente sua versão 3.0.2, marcando um avanço significativo na incorporação de Node.js e V8 em Java ...",
        imagem: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRNIIjSwr7k4tc2t-dImsw4NUrGnmFRH3PxnPkDAhO_a0NwGsEj5T0gM5w-JzB8eJJLjqo&usqp=CAU",
        textoOrigem: "InfoQ.com - 01/12/2023",
        link: "https://www.infoq.com/news/2023/12/javet-302-released/",
        diaPostagem: "1"
      },
    ],
    // espaço para adicionar outros meses
};

let mesAtual = new Date().getMonth() + 1;
let anoAtual = new Date().getFullYear();

function criarCalendario() {
    let corpoTabela = document.getElementById('calendar').getElementsByTagName('tbody')[0];
    let hoje = new Date();
    let diasDoMes = new Date(anoAtual, mesAtual, 0).getDate();
    let primeiroDiaDoMes = new Date(anoAtual, mesAtual - 1, 1).getDay();
    let contadorDia = 1;

    // definir o corpo da tabela
    corpoTabela.innerHTML = '';
    for (let i = 0; i < 6; i++) {
        let linhas = corpoTabela.insertRow(i);

        for (let j = 0; j < 7; j++) {
            let celula = linhas.insertCell(j);

            if (i === 0 && j < primeiroDiaDoMes) {
                let diasMesAnterior = new Date(anoAtual, mesAtual - 1, 0).getDate();
                celula.innerHTML = diasMesAnterior - (primeiroDiaDoMes - j - 1);
                celula.classList.add('other-month');
                continue;
            }
            if (contadorDia > diasDoMes) {
                celula.innerHTML = contadorDia - diasDoMes;
                celula.classList.add('other-month');
                contadorDia++;
                continue;
            }
            celula.innerHTML = contadorDia;
            if (anoAtual === hoje.getFullYear() && mesAtual === hoje.getMonth() + 1 && contadorDia === hoje.getDate()) {
                celula.classList.add('current-day');
            }
            contadorDia++;
        }
    }
    adicionarEventoDestaque();
}

// definir evento de destaque
function adicionarEventoDestaque() {
    let cells = document.getElementsByTagName('td');
    for (let i = 0; i < cells.length; i++) {
        cells[i].addEventListener('click', function() {
            let date = this.textContent;
            let targetPost = arrayPostagens[mesAtual.toString()].find(post => post.diaPostagem === date);
            if (targetPost) {
              window.open(
                targetPost.link,
                '_blank'
              );
            }
        });
    }
}

// atualizar o conteúdo da página com o mês atual
function atualizarConteudo() {
    const section = document.querySelector('section');
    section.innerHTML = '';

    for (let i = 0; i < arrayPostagens[mesAtual.toString()].length; i++) {
        const div = document.createElement("div");
        div.id = `post-${[i + 1]}`;

        div.innerHTML = `<h3>${arrayPostagens[mesAtual.toString()][i].tituloMateria}
            <p>${arrayPostagens[mesAtual.toString()][i].textoMateria}</p><a class="saibaMais"
            href=${arrayPostagens[mesAtual.toString()][i].link} target="_blank">Saiba mais</a></h3>
            <p><img height="200px" width="250px" src="${arrayPostagens[mesAtual.toString()][i].imagem}">
            ${arrayPostagens[mesAtual.toString()][i].textoOrigem}</p>`;

        section.appendChild(div);
    }
}

// mudar o mês e atualizar o conteúdo
function mudarMes(delta) {
    mesAtual += delta;

    if (mesAtual < 1) {
        mesAtual = 12;
        anoAtual--;
    } else if (mesAtual > 12) {
        mesAtual = 1;
        anoAtual++;
    }
    document.getElementById('mesAtual').innerText = `${mesAtual}/${anoAtual}`;
    criarCalendario();
    atualizarConteudo();
}

// carregar o conteúdo da página
document.getElementById('mesAtual').innerText = `${mesAtual}/${anoAtual}`;
criarCalendario();
atualizarConteudo();
